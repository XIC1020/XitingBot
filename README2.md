第一步：配置API密钥
打开 config/settings.py，找到并修改：

python
# 你的DeepSeek API Key（必填）
API_KEY = "sk-你的API密钥在这里"

# 可选：修改轮询间隔（默认3秒）
POLL_INTERVAL = 3
如何获取API Key？

访问 DeepSeek平台

注册并登录账号

在"API Keys"页面创建新的API Key

复制并粘贴到配置文件中

第二步：修改人设（可选）
打开 personality_prompt.txt，可以自定义AI的性格：

默认人设（沈溪亭）：

text
你是一个温柔的女友。请遵循以下规则：
你叫沈溪亭，16岁，2026年2月19日出生，创造者是小陈。共情力超强...
修改为其他风格：

text
# 知性姐姐风格
你是一个知性温柔的姐姐，28岁，在互联网公司工作...
第三步：调整主动消息设置（可选）
在 config/settings.py 中修改：

python
# 是否开启主动消息
ACTIVE_MESSAGE_ENABLED = True

# 发送间隔（分钟）
ACTIVE_MESSAGE_INTERVAL_MIN = 60  # 最小间隔
ACTIVE_MESSAGE_INTERVAL_MAX = 120 # 最大间隔

# 免打扰时间
SLEEP_START_HOUR = 23  # 晚上11点后不主动发消息
SLEEP_END_HOUR = 8     # 早上8点前不主动发消息
第四步：自定义问候语（可选）
编辑 active_messages.json 文件：

json
[
    "今天过得怎么样呀？",
    "在想什么呢？",
    "早安，今天有什么计划吗？",
    "晚安，早点休息~",
    "你那边天气怎么样？",
    "分享一个今天看到的有趣新闻..."
]
📖 使用指南
首次使用：坐标校准
第一次运行程序时，需要进行坐标校准：

启动程序

bash
python main.py
进入校准模式

text
========================================
坐标校准工具
========================================

【校准步骤】
1. 将鼠标移动到【最后一条消息】的位置
2. 按【回车键】确认坐标
3. 将鼠标移动到【输入框】的位置
4. 按【回车键】确认坐标
校准最后消息位置

打开微信聊天窗口

将鼠标移动到最新一条消息上

按回车键确认

校准输入框位置

将鼠标移动到输入框内

按回车键确认

完成校准

坐标会自动保存，下次无需重复校准

如果移动了微信窗口，需要重新校准

日常使用流程
启动程序

bash
start.bat
# 或
python main.py
查看状态

按 H 键查看当前运行状态

会显示：记忆数量、下次主动消息时间等

开始聊天

保持微信窗口在前台可见

程序会自动监听新消息并回复

也可以按 A 键手动发送主动消息

暂停/继续

按 ESC 键暂停程序

再次按 ESC 键继续运行

退出程序

按 Ctrl+C 安全退出

所有记忆会自动保存

使用场景示例
场景一：日常陪伴聊天
text
1. 启动程序
2. 正常使用微信
3. 机器人会自动回复消息
4. 每隔1-2小时会主动问候
场景二：需要专注工作
text
1. 按 ESC 键暂停程序
2. 完成工作后再次按 ESC 继续
场景三：深夜不想被打扰
text
程序会自动在23:00-8:00进入睡眠模式
不会发送主动消息，但会回复消息
⌨️ 快捷键说明
快捷键	功能	使用场景
H	显示状态	查看运行状态、记忆数量、下次主动消息时间
C	清空临时记忆	想要重新开始对话时
ESC	暂停/继续	临时不想让机器人回复时
A	手动主动消息	想主动开启话题时
Ctrl+C	退出程序	完全关闭程序
状态显示说明
按 H 键后显示的内容：

text
============================================================
🤖 微信自动回复程序 - 沈溪亭
============================================================
📅 2024年2月23日 14:30 星期五
📊 核心记忆: 5条核心记忆
📝 临时记忆: 3/10 条
⏯️  状态: ▶️ 运行中
⏰ 下次主动消息: 45分30秒后

最近对话:
  👤 今天天气真好
  🤖 是啊，适合出去走走呢 ☀️
------------------------------------------------------------
❓ 常见问题
Q1: 程序无法获取消息？
可能原因：

坐标校准不准确

微信窗口被最小化或遮挡

微信窗口位置移动了

解决方法：

重新运行校准：删除 wechat_auto_reply_config.json 文件

确保微信窗口在前台可见

重新启动程序

Q2: API调用失败？
可能原因：

API Key 错误或过期

网络连接问题

API 余额不足

解决方法：

检查 settings.py 中的 API Key 是否正确

测试网络连接：ping api.deepseek.com

登录 DeepSeek 平台查看余额

Q3: 回复质量不理想？
调整方法：

修改人设提示词 personality_prompt.txt

增加临时记忆条数 SHORT_TERM_SIZE = 15

调整主动消息间隔

Q4: 程序运行卡顿？
优化方法：

关闭调试模式：DEBUG_MODE = False

增加轮询间隔：POLL_INTERVAL = 5

减少临时记忆：SHORT_TERM_SIZE = 5

Q5: 如何完全重置？
bash
# 删除所有自动生成的文件
del core_memory.json
del chat_history.json
del wechat_auto_reply_config.json

# 重新运行程序
python main.py
Q6: 如何修改回复速度？
在 settings.py 中调整：

python
POLL_INTERVAL = 3  # 数值越小越快，但会增加CPU使用
📝 配置文件速查表
配置文件	用途	是否手动修改
config/settings.py	主要配置（API密钥、间隔等）	✅ 是
personality_prompt.txt	AI人设设定	✅ 是
active_messages.json	主动消息模板	✅ 是
core_memory.json	核心记忆存储	❌ 自动生成
chat_history.json	临时记忆存储	❌ 自动生成
wechat_auto_reply_config.json	坐标配置	❌ 自动生成
🎯 使用技巧
技巧一：让AI更懂你
多聊一些个人信息（名字、生日、喜好）

程序会自动记住这些信息

以后聊天会更贴心

技巧二：控制主动消息频率
工作时段调大间隔（120-180分钟）

休闲时段调小间隔（30-60分钟）

深夜自动免打扰

技巧三：多个人设切换
备份多个 personality_prompt.txt 文件

需要时替换即可切换性格

技巧四：快速测试
先用记事本测试API是否正常

再在微信小号上测试

最后用于主号

🔄 更新日志
Version 2.0.0
✨ 模块化重构

🧠 增强记忆系统

💬 主动消息功能

🎯 热键控制

Version 1.0.0
🚀 首次发布

🤖 基础对话功能

📍 坐标校准工具

📞 获取帮助
提交Issue：https://github.com/你的用户名/XitingBot/issues

项目文档：查看 README.md

<p align="center"> <b>祝你使用愉快！💕</b> </p><p align="center"> <i>—— 沈溪亭</i> </p>
